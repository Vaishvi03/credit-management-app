(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/logo.ff61f89b.png"},35:function(e,t,a){e.exports=a(64)},40:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(31),o=a.n(r),s=(a(40),a(7)),c=a(8),i=a(10),u=a(9),m=a(11),h=(a(41),a(12)),d=a(13),f=a(2),p=a.n(f),b=function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.user.name),l.a.createElement("td",null,e.user.credit),l.a.createElement("td",null,l.a.createElement(h.b,{to:"/view/"+e.user._id},"View")))},E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={users:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log("Mounted"),p.a.get("http://localhost:4000/users/").then(function(t){e.setState({users:t.data})}).catch(function(e){console.log(e)})}},{key:"userList",value:function(){return this.state.users.map(function(e,t){return l.a.createElement(b,{user:e,key:t})})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"Users List"),l.a.createElement("table",{className:"table table-striped",style:{marginTop:20}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Credits"),l.a.createElement("th",null,"View User"))),l.a.createElement("tbody",null,this.userList())))}}]),t}(n.Component),g=a(14),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={fromid:a.props.fromid,toid:"",fromName:"",toName:"",credit:0},a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleCreditChange=a.handleCreditChange.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),""===this.state.toid?alert("Choose user"):(console.log("Form submitted:"),console.log("From id: ".concat(this.state.fromid)),console.log("Toid: ".concat(this.state.toid)),console.log("Credit transferd: ".concat(this.state.credit)),p.a.get("http://localhost:4000/users/"+this.state.fromid).then(function(e){t.setState({fromName:e.data.name}),p.a.get("http://localhost:4000/users/"+t.state.toid).then(function(e){t.setState({toName:e.data.name});var a={fromid:t.state.fromid,toid:t.state.toid,fromName:t.state.fromName,toName:t.state.toName,credit:t.state.credit};p.a.post("http://localhost:4000/transfers/add",a).then(function(e){return console.log(e.data)})}).catch(function(e){console.log(function(e){console.log(e)})})}).catch(function(e){console.log(function(e){console.log(e)})}),p.a.get("http://localhost:4000/users/"+this.state.fromid).then(function(e){var a={name:e.data.name,email:e.data.email,credit:e.data.credit-t.state.credit};console.log(a),p.a.post("http://localhost:4000/users/update/"+t.state.fromid,a).then(function(e){return console.log(e.data)})}).catch(function(e){console.log(function(e){console.log(e)})}),p.a.get("http://localhost:4000/users/"+this.state.toid).then(function(e){var a={name:e.data.name,email:e.data.email,credit:Number(e.data.credit)+Number(t.state.credit)};console.log(a),p.a.post("http://localhost:4000/users/update/"+t.state.toid,a).then(function(e){console.log(e.data),t.props.history.push("/")})}).catch(function(e){console.log(function(e){console.log(e)})}))}},{key:"handleChange",value:function(e){this.setState({toid:e.target.value})}},{key:"handleCreditChange",value:function(e){this.setState({credit:e.target.value})}},{key:"render",value:function(){return l.a.createElement("div",{className:"popup"},l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement("br",null),l.a.createElement("div",{className:"popup_inner"},l.a.createElement("h1",{className:"text-center"},this.props.text),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Enter credit to transfer: "),l.a.createElement("input",{type:"number",defaultValue:"0",className:"form-control",min:"0",max:this.props.maxCredit,onChange:this.handleCreditChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Select user from list:"),"\xa0\xa0\xa0\xa0",l.a.createElement("select",{className:"required",value:this.state.toid,onChange:this.handleChange},l.a.createElement("option",{value:""},"Choose User"),this.props.userList,";")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"submit",value:"Transfer Credit",className:"btn btn-primary"})))))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={id:"",name:"",email:"",credit:0,showPopup:!1,users:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"componentDidMount",value:function(){var e=this;p.a.get("http://localhost:4000/users/").then(function(t){e.setState({users:t.data})}).catch(function(e){console.log(e)}),p.a.get("http://localhost:4000/users/"+this.props.match.params.id).then(function(t){e.setState({name:t.data.name,email:t.data.email,credit:t.data.credit,id:t.data._id,users:e.state.users})}).catch(function(e){console.log(function(e){console.log(e)})})}},{key:"userList",value:function(){var e=this.state.id;return this.state.users.filter(function(t){return t._id!=e}).map(function(e,t){return l.a.createElement("option",{value:e._id,key:t},e.name)})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"User"),l.a.createElement("table",{className:"table table-striped",style:{marginTop:20}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Credit"),l.a.createElement("th",null,"Transfer Credit"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,this.state.name),l.a.createElement("td",null,this.state.email),l.a.createElement("td",null,this.state.credit),l.a.createElement("td",null,l.a.createElement("button",{onClick:this.togglePopup.bind(this)},"Transfer"))))),this.state.showPopup?l.a.createElement(v,{text:"Transfer Credit",userList:this.userList(),transfer:this.togglePopup.bind(this),history:this.props.history,maxCredit:this.state.credit,fromid:this.state.id}):null)}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={transfers:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log("Mounted"),p.a.get("http://localhost:4000/transfers/").then(function(t){e.setState({transfers:t.data})}).catch(function(e){console.log(e)})}},{key:"transferList",value:function(){return this.state.transfers.map(function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.fromName),l.a.createElement("td",null,e.toName),l.a.createElement("td",null,e.credit))})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h3",null,"Transfer List"),l.a.createElement("table",{className:"table table-striped",style:{marginTop:20}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"From"),l.a.createElement("th",null,"To"),l.a.createElement("th",null,"Credit"))),l.a.createElement("tbody",null,this.transferList())))}}]),t}(n.Component),C=a(34),k=a.n(C),j=(a(63),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(h.a,null,l.a.createElement("div",{className:"container"},l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},l.a.createElement("a",{className:"navbar-brand",href:"https://www.linkedin.com/in/akash-verma-b3591591/",target:"_blank"},l.a.createElement("img",{src:k.a,width:"50",height:"50",alt:"Logo.png"})),l.a.createElement(h.b,{to:"/",className:"navbar-brand font-weight-bold",style:{color:"pink"}},"Credit Management App"),l.a.createElement("div",{className:"collpase navbar-collapse"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"navbar-item"},l.a.createElement(h.b,{to:"/",className:"nav-link font-weight-bold"},"Users")),l.a.createElement("li",{className:"navbar-item"},l.a.createElement(h.b,{to:"/transfer",className:"nav-link font-weight-bold"},"Transfers"))))),l.a.createElement("br",null),l.a.createElement(d.a,{path:"/",exact:!0,component:E}),l.a.createElement(d.a,{path:"/view/:id",component:N}),l.a.createElement(d.a,{path:"/transfer",component:y})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.caf8ab6c.chunk.js.map